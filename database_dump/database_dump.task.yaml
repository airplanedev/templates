# Full reference: https://docs.airplane.dev/tasks/task-definition

slug: database_dump
name: Database dump
description: This task dumps a postgress database to file and uploads the backup to aws s3 storage.

node:
  entrypoint: database_dump.ts
  nodeVersion: "14"

  envVars:
    AWS_KEY:
      config: aws_key
    AWS_SECRET:
      config: aws_secret
    AWS_BUCKET:
      config: aws_bucket
    AWS_S3_REGION:
      config: aws_bucket_region
    DB_NAME:
      config: db_name
    DB_PASS:
      config: db_pass
    DB_HOST:
      config: db_host
    DB_USER:
      config: db_user
    DB_PORT:
      config: db_port





