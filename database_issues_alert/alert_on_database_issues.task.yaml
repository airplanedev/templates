# Full reference: https://docs.airplane.dev/tasks/task-definition

slug: alert_on_database_issues
name: Alert on database issues
description: "Sends an email if any database issues are detected"
parameters:
- slug: slack_channel
  name: Slack channel
  type: shorttext
  description: The slack channel to send an alert to. If not set, logs a message instead.
  required: false
  
node:
  entrypoint: alert_on_database_issues.ts
  nodeVersion: "18"

schedules:
  daily_database_check:
    cron: 0 0 * * *
    name: Daily database check
    description: Runs a database check every day at midnight UTC
    paramValues:
      # slack_channel: INSERT_SLACK_CHANNEL_HERE

resources:
  db: demo_db
